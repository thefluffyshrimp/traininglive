define(["jquery","core/pending"],function(a,b){var c={alert:[{classMatch:".alert",start:"close",end:"closed"}],carousel:[{classMatch:".carousel",start:"slide",end:"slid"}],collapse:[{classMatch:".collapse",start:"hide",end:"hidden"},{classMatch:".collapse",start:"show",end:"shown"}],modal:[{classMatch:".modal",start:"hide",end:"hidden"},{classMatch:".modal",start:"show",end:"shown"}],tab:[{classMatch:".tab",start:"hide",end:"hidden"},{classMatch:".tab",start:"show",end:"shown"}],tooltip:[{classMatch:".tooltip",start:"hide",end:"hidden"},{classMatch:".tooltip",start:"show",end:"shown"}]},d=function(b){var c=1e3;if(!b)return 0;var d=a(b).css("transition-duration"),e=a(b).css("transition-delay"),f=parseFloat(d),g=parseFloat(e);return f||g?(d=d.split(",")[0],e=e.split(",")[0],(parseFloat(d)+parseFloat(e))*c):0};Object.keys(c).forEach(function(e){c[e].forEach(function(c){a(document.body).on(c.start,c.classMatch,function(e){var f=a(e.target),g=new b(c.start),h=!1;a(document.body).one(c.end,c.classMatch,function(){h=!0,g.resolve()}),setTimeout(function(){h||f.trigger(c.end)},d(f))})})})});